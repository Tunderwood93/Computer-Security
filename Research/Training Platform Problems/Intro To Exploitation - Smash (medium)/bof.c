#include <stdio.h>
#include <stdlib.h>

void flag() 
{
        execl("/bin/cat", "/bin/cat", "/home/trevor/flag", 0);
}

void bof(char *str) 
{
        char buf[150];
	printf("The buffer is at: %p", buf);
        strcpy(buf, str); // vulnerable
}

int main(int argc, char *argv[]) 
{
        char cmp[]="Smash_The_Stack_For_Fun_And_Profit";

        if(argc != 2) 
        {
                exit(0);
        }
        if(strncmp(argv[1], cmp, strlen(cmp))!=0) 
        {
                exit(0);
        }
        
        bof(argv[1]);
}